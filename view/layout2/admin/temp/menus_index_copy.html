{% extends "./inc/_base.html" %}


{% block style %}
    <link rel="/static/assets/js/plugins/treetable/treetable.css" rel="stylesheet" type="text/css">

    <style>
        .modal {
            background: rgba(46, 48, 56, 0.75);
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            overflow-x: hidden;
            overflow-y: auto;
            z-index: 1050;
            -webkit-transition: all 0.2s ease-in-out;
            -moz-transition: all 0.2s ease-in-out;
            -o-transition: all 0.2s ease-in-out;
            transition: all 0.2s ease-in-out;
        }
        .modal .mask {
            max-width: 420px;
            position: absolute;
            left: 15px;
            right: 15px;
            margin: auto;
            top: 8%;
            padding-bottom: 30px;
        }
        .modal .mask .inner {
            padding: 30px 0 0 0;
            background: #fff;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            border-radius: 4px;
            -webkit-box-shadow: 0 4px 10px rgba(46, 48, 56, 0.8);
            -moz-box-shadow: 0 4px 10px rgba(46, 48, 56, 0.8);
            box-shadow: 0 4px 10px rgba(46, 48, 56, 0.8);
        }
        .modal .mask .inner.animated {
            -webkit-animation-duration: 0.2s;
            animation-duration: 0.2s;
        }
        .modal .mask .inner header {
            position: relative;
            padding: 0 30px;
            margin: 0;
        }
        .modal .mask .inner header h3 {
            margin: 0;
            padding: 0;
        }
        @media (max-width: 768 * 1px) {
            .modal .mask .inner header h3 {
                font-size: 21px;
            }
        }
        .modal .mask .inner header .close {
            cursor: pointer;
            position: absolute;
            right: 30px;
            top: 50%;
            -webkit-transform: translate(0, -50%);
            -moz-transform: translate(0, -50%);
            -o-transform: translate(0, -50%);
            -ms-transform: translate(0, -50%);
            transform: translate(0, -50%);
        }
        .modal .mask .inner header .close:hover i {
            color: #858a95;
        }
        .modal .mask .inner header .close i {
            font-size: 1em;
            color: #d0d3d9;
        }
        @media (max-width: 768 * 1px) {
            .modal .mask .inner header .close {
                right: 20px;
            }
        }
        @media (max-width: 768 * 1px) {
            .modal .mask .inner header {
                padding: 0 20px;
            }
        }
        .modal .mask .inner .content {
            padding: 20px 30px 30px 30px;
        }
        @media (max-width: 768 * 1px) {
            .modal .mask .inner .content {
                padding: 10px 20px 20px 20px;
            }
        }
        @media (max-width: 768 * 1px) {
            .modal .mask .inner {
                padding: 20px 0 0 0;
            }
        }
        .modal .mask table.media .file div {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 190px;
            min-width: 0;
        }
        .modal .mask.large {
            max-width: 680px;
        }
        .modal-enter {
            -moz-opacity: 0;
            -khtml-opacity: 0;
            -webkit-opacity: 0;
            opacity: 0;
            -ms-filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0);
            filter: alpha(opacity=0);
        }
        .modal-leave-active {
            -moz-opacity: 0;
            -khtml-opacity: 0;
            -webkit-opacity: 0;
            opacity: 0;
            -ms-filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0);
            filter: alpha(opacity=0);
        }



        a.delete {
            z-index: 5;
            position: relative;
        }

        a.delete div {
            width: 76px;
            height: 40px;
            top: 50%;
            left: 50%;
            background: #fefefe;
            position: absolute;
            z-index: 5;
            margin: -20px 0 0 -38px;
            -webkit-animation-duration: 0.4s;
            animation-duration: 0.4s;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            border-radius: 4px;
            -webkit-box-shadow: 0 0 6px rgba(46, 48, 56, 0.3);
            -moz-box-shadow: 0 0 6px rgba(46, 48, 56, 0.3);
            box-shadow: 0 0 6px rgba(46, 48, 56, 0.3);
        }

        a.delete div .confirm,
        a.delete div .abort {
            vertical-align: top;
            line-height: 32px;
            position: absolute;
            width: 32px;
            height: 32px;
            margin: 0;
            font-size: 21px !important;
            top: 4px;
            text-align: center;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            border-radius: 4px;
        }

        a.delete div .confirm:before,
        a.delete div .abort:before {
            line-height: 32px;
            display: block;
        }

        a.delete div .confirm {
            color: #fff;
            background: #ef4748;
            left: 4px;
        }

        a.delete div .abort {
            /*color: #858a95;*/
            /*color: #;*/
            right: 4px;
        }
        #menuList li {
            cursor: move;
            list-style: none;
        }
        #menuList li:first-child {
            padding-top: 10px;
        }
        #menuList li .entry {
            position: relative;
            padding: 10px 15px;
            background: #fff;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            border-radius: 4px;
            -webkit-box-shadow: 0 3px 9px rgba(46, 48, 56, 0.1);
            -moz-box-shadow: 0 3px 9px rgba(46, 48, 56, 0.1);
            box-shadow: 0 3px 9px rgba(46, 48, 56, 0.1);
        }
        #menuList li .entry .info {
            float: left;
        }
        #menuList li .entry .info span {
            display: block;
        }
        #menuList li .entry .info small {
            display: block;
            color: #d0d3d9;
        }
        #menuList li .entry .delete {
            display: block;
            position: absolute;
            right: 15px;
            top: 50%;
            color: #d0d3d9;
            font-size: 21px;
            -webkit-transform: translate(0, -50%);
            -moz-transform: translate(0, -50%);
            -o-transform: translate(0, -50%);
            -ms-transform: translate(0, -50%);
            transform: translate(0, -50%);
        }
        #menuList li .entry .delete:hover {
            color: #ef4748;
        }
        #menuList ul {
            min-height: 10px;
            padding: 0 0 0 20px;
            margin: 0;
        }
        #menuList > ul {
            padding-left: 0;
        }
        #menuList > ul > li:first-child {
            padding-top: 0;
        }
    </style>
    <style>

        .frame-wrapper {
            position: relative;
            font-size: 0;
        }

        .frame-wrapper .frame-border {
            position: absolute;
            z-index: 100;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            /*box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.13);*/
            pointer-events: none;
        }

        .frame-viewer {
            width: 100%;
            height: 400px;
            padding: 0;
            overflow: hidden;
        }

        .frame-viewer img.preview {
            width: 100%;
        }

        .frame-viewer iframe {
            width: 1280px;
            height: 800px;
            border: 0;
            overflow: hidden;
            -webkit-transform: scale(0.685);
            transform: scale(0.685);
            -webkit-transform-origin: 0 0;
            transform-origin: 0 0;
            background-color: white;
            border: none;
        }

        .col-md-7 .frame-viewer iframe {
            -webkit-transform: scale(0.53);
            transform: scale(0.53);
        }

        .col-md-6 .frame-viewer iframe {
            width: 1266px;
            height: 888px;
            -webkit-transform: scale(0.45);
            transform: scale(0.45);
        }

        img.screenshot {
            width: 100%;
            box-shadow: 0 1px 3px 0px rgba(0, 0, 0, 0.2), inset 0 0 0 1px rgba(0, 0, 0, 0.2), inset 0 2px 0 0 rgba(255, 255, 255, 0.2);
        }

        a.site-link {
            display: block;
            padding: 14px 10px;
            text-align: center;
            /*border: 1px solid rgba(43, 50, 57, 0.15);*/
            border-top: none;
            background-color: #FDFDFD;
            /*border-radius: 0 0 3px 3px;*/
            text-decoration: none;
        }

        a.site-link i {
            margin-right: 10px;
            position: relative;
            top: 2px;
        }

        a.site-link:hover {
            color: #24588a;
        }

        a.site-link:hover i.icon {
            -webkit-filter: brightness(70%);
            filter: brightness(70%);
        }

        .col-padding {
            position: relative;
            min-height: 1px;
            padding-left: 14px;
            padding-right: 14px;
        }
    </style>


    <style type="text/css">
        @charset "UTF-8";
        /**
         * Menus: Mixins
         */
        /**
         * Menus: Empty Content
         */
        .manage-menus .empty-content {
            clear: both;
        }

        /**
         * Menus: Placeholders
         */
        .menus__pickers .placeholder-text,
        .menus__menu-header .placeholder-text,
        .menus__items .placeholder-text {
            color: transparent;
            background-color: #e9eff3;
            animation: loading-fade 1.6s ease-in-out infinite;
        }

        .menus__picker label .placeholder-text {
            font-size: 10px;
        }

        .menus__picker-select-placeholder {
            display: block;
            padding: 23px 40px 10px 52px;
        }

        .menus__picker-select-placeholder .placeholder-text {
            font-size: 12px;
        }

        /**
         * Menus: Pickers
         */
        .menus__pickers {
            background-color: #e9eff3;
            background-size: cover;
            width: 100%;
            box-sizing: border-box;
            overflow: hidden;
            padding: 3%;
            box-shadow: 0 -2px 0 #a8bece inset;
        }

        @media (max-width: 480px) {
            .menus__pickers {
                margin-top: -8px;
            }
        }

        .menus__pickers-conjunction {
            float: left;
            height: 55px;
            font-size: 0.8em;
            line-height: 4.6;
            width: 10%;
            padding: 0;
            margin: 0;
            text-align: center;
        }

        @media (max-width: 480px) {
            .menus__pickers-conjunction {
                width: 100%;
                height: 30px;
                line-height: 2.3;
            }
        }

        .menus__picker {
            width: 45%;
            float: left;
            position: relative;
            background: white;
            /* required for -moz-appearance below */;
        }

        @media (max-width: 480px) {
            .menus__picker {
                width: 100%;
            }
        }

        .menus__picker label,
        .menus__picker select {
            display: block;
            width: 100%;
            cursor: pointer;
        }

        .menus__picker label {
            pointer-events: none;
            /* click through :D */
            font-size: 0.8em;
            color: #87a6bc;
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 0px 30px 20px 42px;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            width: calc(100% - 20px);
        }

        .menus__picker label:before {
            position: absolute;
            left: 1px;
            top: 1px;
            color: #005082;
        }

        .menus__picker label:after {
            font-size: 22px;
            content: "";
            vertical-align: top;
            text-align: center;
            display: inline-block;
            font-family: Noticons;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            line-height: 1;
            text-decoration: inherit;
            text-transform: none;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            speak: none;
            position: absolute;
            top: 7px;
            right: 0;
            color: #00aadc;
        }

        .menus__picker.is-location label:before {
            font-size: 32px;
            content: "";
            vertical-align: top;
            text-align: center;
            display: inline-block;
            font-family: Noticons;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            line-height: 1;
            text-decoration: inherit;
            text-transform: none;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            speak: none;
        }

        .menus__picker.is-menu label:before {
            font-size: 32px;
            content: "";
            vertical-align: top;
            text-align: center;
            display: inline-block;
            font-family: Noticons;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            line-height: 1;
            text-decoration: inherit;
            text-transform: none;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            speak: none;
        }

        .menus__picker select {
            background: white;
            height: 55px;
            border: none;
            border-radius: 0;
            -webkit-appearance: none;
            padding: 20px 40px 5px 52px;
        }

        .menus__picker select::-ms-expand {
            display: none;
            /* Remove arrow in IE */;
        }

        /**
         * Menu: Header
         */
        .menus__menu-header {
            display: flex;
            flex-direction: row;
            margin: 24px 8px 8px 16px;
        }

        @media (max-width: 480px) {
            .menus__menu-header {
                margin: 24px 8px 8px 16px;
            }
        }

        .menus__menu-header .menus__menu-name {
            flex: 1 1 auto;
            width: 0%;
            /* Firefox 35 and IE 10 fix */;
        }

        .menus__menu-header .menus__menu-actions {
            flex: 0 0 auto;
            margin-left: auto;
        }

        .menus__menu-name {
            font-size: 1.6em;
            font-weight: 200;
            float: left;
        }

        .menus__menu-name span.is-editable span {
            display: block;
            float: left;
            max-width: calc( 100% - 20px);
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        .menus__menu-name span.is-editable a {
            margin-left: 4px;
            cursor: pointer;
        }

        .menus__menu-name span.is-editable a:before {
            font-size: 16px;
            content: "";
            vertical-align: top;
            text-align: center;
            display: inline-block;
            font-family: Noticons;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            line-height: 1;
            text-decoration: inherit;
            text-transform: none;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            speak: none;
            color: #668eaa;
            vertical-align: baseline;
        }

        .menus__menu-name input.is-editable {
            margin: -20px -30px -20px 0;
            font-size: inherit;
            font-weight: inherit;
            width: calc(100% - 40px);
            margin-right: 40px;
        }

        @media (max-width: 480px) {
            .menus__menu-name input.is-editable {
                width: 100%;
            }
        }

        .menus__menu-actions {
            float: right;
        }

        .menus__menu-actions .button {
            margin-left: 0.7em;
        }

        .menus__menu-actions .button.noticon:before {
            line-height: 1.35;
            color: #2e4453;
            /* Reset noticon parts overridden by button */
            font-size: 16px;
            font-weight: 400;
        }

        @media (max-width: 480px) {
            .is-editing-title .menus__menu-name {
                line-height: 41px;
            }

            .is-editing-title .menus__menu-actions {
                display: none;
            }
        }

        /**
         * Menu: List
         */
        .menus__items {
            margin: 0;
            clear: both;
            list-style-type: none;
            background-color: #e9eff3;
        }

        .menus__items ul {
            padding: 0;
        }

        .menus__items ul.depth-0 {
            margin-left: 0;
        }

        .menus__menu-item {
            display: flex;
            flex-direction: row;
            color: #005082;
            background-color: white;
            text-decoration: none;
            border-bottom: 1px solid #e9eff3;
            border-left: 1px solid #e9eff3;
            padding: 17px 20px 16px 16px;
            font-size: 13px;
            cursor: default;
            position: relative;
            z-index: z-index("root", ".menus__menu-item");
            /**
               * Menu item is selected
               */
            /**
               * Menu 3-pronged lander areas
               */
            /**
               * Item target when dragging with mouse
               */
            /**
               * Hide drag 'ghost' image, because it makes the drop
               * target hard to see
               */
            /**
               * Menu is Empty, show special add icon
               */
            /**
               * Item is to be deleted, pending user confirmation
               */;
        }

        .menus__menu-item.depth-1 {
            margin-left: 2rem;
        }

        .menus__menu-item.depth-2 {
            margin-left: 4rem;
        }

        .menus__menu-item.depth-3 {
            margin-left: 6rem;
        }

        .menus__menu-item.depth-4 {
            margin-left: 8rem;
        }

        .menus__menu-item.depth-5 {
            margin-left: 10rem;
        }

        .menus__menu-item.depth-6 {
            margin-left: 12rem;
        }

        .menus__menu-item.depth-7 {
            margin-left: 14rem;
        }

        .menus__menu-item .menu-item-name {
            flex: 1 1 auto;
            color: #2e4453;
            font-size: 1.1em;
            line-height: 1.5em;
            font-family: inherit;
            text-align: left;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        .menus__menu-item .menu-item-name:before {
            font-size: 16px;
            margin-right: 12px;
            color: #00aadc;
            vertical-align: -2px;
        }

        .menus__menu-item .menu-item-name.noticon-placeholder:before {
            color: transparent;
            background-color: #e9eff3;
            animation: loading-fade 1.6s ease-in-out infinite;
            vertical-align: -4px;
            font-size: 19px;
        }

        .menus__menu-item .action-tray {
            flex: 0 0 auto;
            float: right;
            margin-right: -8px;
            /* compensate buttons padding, more universal */
            transition: background 200ms ease-in, color 50ms ease-in;
            /* Buttons */;
        }

        .menus__menu-item .action-tray button {
            margin-left: 1em;
            margin-top: -8px;
            margin-bottom: -8px;
            font-size: inherit;
            line-height: 1.45;
        }

        .menus__menu-item .action-tray .menu-item-action {
            float: left;
            color: #668eaa;
            margin: -5px 0 -5px;
            padding: 8px 6px 8px;
            text-transform: uppercase;
            font-size: 0.85em;
            font-weight: 500;
            vertical-align: top;
            cursor: pointer;
            transition: all 200ms ease-out;
            border-radius: 100%;
            text-indent: -6666em;
            width: 22px;
            /* Fix: Firefox won't respect margins with text-indent on otherwise. */
            /* Icon Buttons */ }
        .menus__menu-item .action-tray .menu-item-action:before {
            content: "";
            color: #00aadc;
            float: left;
            font-size: 16px;
            text-indent: 0;
            width: 22px; }
        .menus__menu-item .action-tray .menu-item-action.edit:before {
            font-size: 16px;
            content: "";
            vertical-align: top;
            text-align: center;
            display: inline-block;
            font-family: Noticons;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            line-height: 1;
            text-decoration: inherit;
            text-transform: none;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            speak: none; }
        .menus__menu-item .action-tray .menu-item-action.add:before {
            font-size: 16px;
            content: "";
            vertical-align: top;
            text-align: center;
            display: inline-block;
            font-family: Noticons;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            line-height: 1;
            text-decoration: inherit;
            text-transform: none;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            speak: none; }
        .menus__menu-item .action-tray .menu-item-action.cancel:before {
            font-size: 16px;
            content: "";
            vertical-align: top;
            text-align: center;
            display: inline-block;
            font-family: Noticons;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            line-height: 1;
            text-decoration: inherit;
            text-transform: none;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            speak: none;
            font-size: 19px;
            margin-bottom: -3px;
            /* Sigh it's smaller... */;
        }

        .menus__menu-item .action-tray .menu-item-action.move {
            color: #00aadc;
            text-indent: 0;
            width: auto;
        }

        .menus__menu-item .action-tray .menu-item-action.move:hover {
            color: #78dcfa;
            border-radius: 0;
            background: transparent;
        }

        .menus__menu-item .action-tray .menu-item-action.move:before {
            content: none;
        }

        .menus__menu-item .action-tray .menu-item-action:hover, .menus__menu-item .action-tray .menu-item-action:focus {
            color: white;
            background: #00aadc;
        }

        .menus__menu-item .action-tray .menu-item-action:hover:before, .menus__menu-item .action-tray .menu-item-action:focus:before {
            color: white;
        }

        .menus__menu-item.is-selected {
            background: #00aadc;
            padding: 6px;
            border-bottom: 0;
            /* remove gap */;
        }

        .menus__menu-item.is-selected .noticon {
            color: white;
            padding: 14px 16px 5px 10px;
        }

        .menus__menu-item.is-selected input {
            width: calc(100% - 70px);
            padding: 12px 14px;
            border: 0;
            color: #005082;
            font-size: 14px;
        }

        .menus__menu-item.is-lander {
            background: #fafbfc;
            border-left: 1px solid #e9eff3;
            z-index: z-index("root", ".menus__menu-item.is-lander");
        }

        .menus__menu-item.is-lander:hover {
            background: #00aadc;
        }

        .menus__menu-item.is-lander:hover span,
        .menus__menu-item.is-lander:hover span:before {
            color: white;
        }

        .menus__menu-item.is-lander span {
            color: #005082;
            font-size: 1.1em;
            line-height: 1.5em;
            font-family: inherit;
        }

        .menus__menu-item.is-lander span:before {
            font-size: 16px;
            margin-right: 12px;
            color: #00aadc;
            vertical-align: -2px;
        }

        .menus__menu-item.is-dragdrop-target {
            background: #f3f6f8;
            border: 1px dashed #c8d7e1;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        .menus__menu-item.is-dragdrop-target span {
            visibility: hidden;
        }

        .menus__menu-item.is-dragdrop-target .add,
        .menus__menu-item.is-dragdrop-target .edit {
            display: none;
        }

        .menus__menu-item:-webkit-drag {
            visibility: hidden;
        }

        .menus__menu-item:-webkit-drag div {
            display: none;
        }

        .menus__menu-item.is-empty {
            margin-left: calc(100% - 61px);
            padding-left: 13px;
        }

        .menus__menu-item.is-deleted {
            background: #f3f6f8;
        }

        .menus__menu-item.is-deleted .menu-item-name,
        .menus__menu-item.is-deleted .menu-item-name::before {
            color: #87a6bc;
        }

        .menus__menu-item.is-corrupt {
            border-left: 5px solid #f0b849;
        }

        /**
         * Menu: add menu item label
         */
        .menus__add-item-footer-label {
            float: right;
            padding: 10px 25px 2px 0;
            color: #87a6bc;
            font-size: 10px;
            text-transform: uppercase;
            animation: menus__fade-from-bottom 1.0s ease-in-out;
        }

        .menus__add-item-footer-label:after {
            content: "\2191";
            /* Up arrow */
            color: #00aadc;
            font-size: 16px;
            padding: 0 0 0 10px;
        }

        /**
         * Menu: Edit Item & New Item views
         */
        .menus__menu-item-open-container {
            background: #f3f6f8;
        }

        @media (max-width: 480px) {
            .menus__menu-item-open-container.is-panel-left .menu-item-options {
                display: none !important;
            }

            .menus__menu-item-open-container.is-panel-right .menu-item-options {
                width: auto !important;
                left: 0 !important;
                border: 0 !important;
            }
        }

        .menus__menu-item-open {
            display: block;
            color: #005082;
            background-color: white;
            text-decoration: none;
            border-left: 1px solid #e9eff3;
        }

        .menus__menu-item-open.depth-1 {
            margin-left: 2rem;
        }

        .menus__menu-item-open.depth-2 {
            margin-left: 4rem;
        }

        .menus__menu-item-open.depth-3 {
            margin-left: 6rem;
        }

        .menus__menu-item-open.depth-4 {
            margin-left: 8rem;
        }

        .menus__menu-item-open.depth-5 {
            margin-left: 10rem;
        }

        .menus__menu-item-open.depth-6 {
            margin-left: 12rem;
        }

        .menus__menu-item-open.depth-7 {
            margin-left: 14rem;
        }

        .menus__menu-item-open.depth-1 .editable-item-content {
            margin-left: -2rem;
        }

        .menus__menu-item-open.depth-2 .editable-item-content {
            margin-left: -4rem;
        }

        .menus__menu-item-open.depth-3 .editable-item-content {
            margin-left: -6rem;
        }

        .menus__menu-item-open.depth-4 .editable-item-content {
            margin-left: -8rem;
        }

        .menus__menu-item-open.depth-5 .editable-item-content {
            margin-left: -10rem;
        }

        .menus__menu-item-open.depth-6 .editable-item-content {
            margin-left: -12rem;
        }

        .menus__menu-item-open.depth-7 .editable-item-content {
            margin-left: -14rem;
        }

        .menus__menu-item-open:before {
            /* The top arrow */
            margin-top: -17px;
            margin-left: 15px;
            border: solid transparent;
            content: " ";
            height: 0;
            width: 0;
            position: absolute;
            pointer-events: none;
            border-color: rgba(255, 255, 255, 0);
            border-bottom-color: #ffffff;
            border-width: 9px;
            z-index: z-index("root", ".menus__menu-item-open:before");
        }

        .menus__menu-item-open .editable-item-content {
            background: white;
            border-top: 1px solid #e9eff3;
            border-bottom: 1px solid #e9eff3;
            /**
                 * General
                 */
            /**
                 * Menu Item Name
                 */
            /**
                * Menu Item Types
                */
            /**
                 * A notice for unsupported item types
                 */;
        }

        .menus__menu-item-open .editable-item-content .separated {
            border-bottom: 1px solid #e9eff3;
        }

        .menus__menu-item-open .editable-item-content .separated:after {
            content: " ";
            display: block;
            height: 0;
            clear: both;
        }

        .menus__menu-item-open .editable-item-content input:not([type='radio']):not([type='checkbox']) {
            display: block;
            font-size: 14px;
            margin: -1px 0;
            transition: all 200ms ease-out;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-name {
            display: flex;
            flex-direction: row;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-name label {
            flex: 0 0 auto;
            padding: 9px 12px;
            display: block;
            line-height: 2.4;
            color: #87a6bc;
            font-size: 10px;
            text-transform: uppercase;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-name input {
            flex: 1 1 auto;
            width: 75%;
            background: #f3f6f8;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types {
            list-style: none;
            margin: 0;
            position: relative;
            width: 136px;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types:hover {
            border-top-color: #f3f6f8;
            border-bottom-color: #f3f6f8;
        }

        @media (max-width: 480px) {
            .menus__menu-item-open .editable-item-content .menus__menu-item-form-types {
                width: 100%;
            }
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li {
            border: 0;
            border-top: 1px solid transparent;
            border-bottom: 1px solid transparent;
            border-right: 1px solid #e9eff3;
            transition: all 200ms ease-in-out, color 150ms ease-in-out;
            /**
                     * Selected states
                     */;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li > label {
            font-family: inherit;
            font-size: 14px;
            padding: 16px 12px;
            color: #2e4453;
            line-height: 1.3;
            display: block;
            text-align: left;
            margin-bottom: -1px;
            font-weight: 400;
            transition: all 250ms ease-in-out, color 150ms ease-in-out;
            cursor: pointer;
            -webkit-font-smoothing: inherit;
            /* Fix the noticon change */
            -moz-osx-font-smoothing: inherit;
            /* Fix the noticon change */;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li > label:before {
            color: #c8d7e1;
            font-size: 16px;
            margin-right: 8px;
            vertical-align: -3px;
            transition: all 250ms ease-in-out, color 150ms ease-in-out;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li > label:hover {
            color: #00aadc;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li > label:hover:before {
            color: #00aadc;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li.is-selected {
            border-top-color: #e9eff3;
            border-bottom-color: #e9eff3;
            border-right-color: white;
            color: #2e4453;
        }

        @media (max-width: 480px) {
            .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li.is-selected {
                border-top: 1px solid transparent;
                border-bottom: 1px solid transparent;
            }
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li.is-selected:first-child {
            border-top-color: white;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li.is-selected:last-child {
            border-bottom-color: white;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li.is-selected > label {
            color: #00aadc;
        }

        .menus__menu-item-open .editable-item-content .menus__menu-item-form-types li.is-selected > label:before {
            color: #00aadc;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container {
            position: relative;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 75%;
            background: white;
            font-size: 14px;
            padding: 10px 13px;
            overflow: hidden;
            overflow-y: auto;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options.menu-item-options__term-tree-selector {
            padding: 10px 0px 10px 13px;
            overflow-y: hidden;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options.menu-item-options__term-tree-selector .term-tree-selector {
            border: 0;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options.menu-item-options__term-tree-selector .term-tree-selector__search input {
            border-width: 1px;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options.menu-item-options__term-tree-selector .term-tree-selector__label {
            color: #2e4453;
            font-size: 14px;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options.menu-item-options__term-tree-selector .term-tree-selector__list-item.is-placeholder {
            width: 85%;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options.menu-item-options__term-tree-selector .term-tree-selector__list-item.is-placeholder .term-tree-selector__label {
            color: transparent;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .menu-item-tag-container {
            margin: 10px;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .menu-item-tag-container .menu-item-tag {
            display: inline-block;
            padding: 0 3px;
            background-color: #c8d7e1;
            color: white;
            font-size: 10px;
            border-radius: 3px;
            margin-left: 5px;
            text-transform: uppercase;
            vertical-align: middle;
            letter-spacing: 0.02em;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .menu-item-tag-container .menu-item-tag:first-of-type {
            margin-left: 0;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options li.create-new-item input[type=radio] + label {
            color: #87a6bc;
            font-style: italic;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .menu-item-back-button {
            display: none;
            transition: 200ms all ease-in;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .menu-item-back-button a {
            display: block;
            font-family: inherit;
            font-size: 14px;
            color: #375163;
            text-align: left;
            line-height: 1.3;
            background: white;
            padding: 16px 12px 15px;
            margin: -10px -13px 10px;
            border-bottom: 1px solid #e9eff3;
            -webkit-font-smoothing: inherit;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .menu-item-back-button a:before {
            color: #78dcfa;
            font-size: 16px;
            margin-right: 8px;
            vertical-align: -3px;
        }

        @media (max-width: 480px) {
            .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .menu-item-back-button {
                display: block;
            }
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .menu-item-form-label {
            float: none;
            width: auto;
            border: 0;
            display: block;
            padding: 0 0 10px 0;
            color: #87a6bc;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .menu-item-form-address {
            margin-bottom: 1rem;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options input[type='checkbox'] + label {
            margin-left: 4px;
            color: #2e4453;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options li {
            padding: 2px 0;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options li input[type=radio] + label {
            margin-left: 4px;
            transition: all 200ms ease-out;
            color: #2e4453;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options li input[type=radio] + label:hover {
            color: #00aadc;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options form > label {
            cursor: pointer;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options input:not([type='radio']):not([type='checkbox']) {
            width: 95%;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .is-empty-content {
            color: #87a6bc;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .is-empty-content a {
            color: #87a6bc;
            text-decoration: underline;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .search-container {
            position: relative;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .search-container .gridicon {
            position: absolute;
            left: 0;
            padding: 9px 8px;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options .search-container .search-box {
            right: 0;
            width: 100%;
            height: 35px;
            margin-bottom: 1rem;
            padding: 5px 5px 5px 30px;
            background: white;
            -webkit-appearance: none;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options::-webkit-scrollbar {
            width: 9px;
            height: 9px;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options::-webkit-scrollbar-button:start:decrement, .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options::-webkit-scrollbar-button:end:increment {
            display: block;
            height: 0;
            background-color: transparent;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options::-webkit-scrollbar-track-piece {
            background-color: transparent;
            -webkit-border-radius: 0;
            -webkit-border-bottom-right-radius: 8px;
            -webkit-border-bottom-left-radius: 8px;
        }

        .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options::-webkit-scrollbar-thumb:vertical, .menus__menu-item-open .editable-item-content .menus__types-and-options-container .menu-item-options::-webkit-scrollbar-thumb:horizontal {
            background-color: #c8d7e1;
            -webkit-border-radius: 8px;
            border: 1px solid white;
        }

        .menus__menu-item-open .editable-item-content .unsupported-notice {
            padding: 1em;
        }

        .menus__menu-item-open .editable-item-content .unsupported-notice h1 {
            color: #2e4453;
            font-size: 16px;
            margin-bottom: 1em;
        }

        .menus__menu-item-open .editable-item-content .unsupported-notice p, .menus__menu-item-open .editable-item-content .unsupported-notice small {
            color: #87a6bc;
        }

        .menus__menu-item-open .editable-item-content .unsupported-notice p {
            font-size: 14px;
            margin-bottom: 0;
        }

        /**
         * Menu: Item Action Buttons
         */
        .menus__menu-item-actions {
            clear: both;
            padding: 0.5em;
            border-top: 1px solid #e9eff3;
            text-align: right;
        }

        .menus__menu-item-actions .button {
            margin-left: 0.5em;
        }

        .menus__menu-item-actions .button.noticon {
            font-family: inherit;
            -webkit-font-smoothing: inherit;
            color: #6f7a88;
        }

        .menus__menu-item-actions .button.noticon:hover {
            color: #324155;
        }

        .menus__menu-item-actions .button.noticon:before {
            font-size: 16px;
            vertical-align: -3px;
            margin: 0px -3px -1px;
        }

        /**
         * Menu: animations, pure CSS fade-ins
         */
        @keyframes menus__fade-from-bottom {
            0% {
                opacity: 0.0;
            }

            20% {
                opacity: 0.0;
                transform: translateY(10px);
            }

            70% {
                opacity: 1.0;
            }

            100% {
                opacity: 1.0;
                transform: none;
            }
        }

        .slide-fade-enter-active {
            transform: translateZ(0);
            margin-top: -55px;
            opacity: 0.0;
            /*transition: all .3s ease;*/
        }
        .slide-fade-leave-active {
            /*transition: margin 200ms ease-out, opacity 200ms ease-out;*/
            /*margin-top: -55px;*/
            /*opacity: 0.0;*/
            /*transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);*/
        }
        .slide-fade-enter, .slide-fade-leave-to
            /* .slide-fade-leave-active for <2.1.8 */ {
            /*transform: translateX(10px);*/
            /*opacity: 0;*/
            /*transform: translateZ(0);*/

            /*transition: margin 200ms ease-out, opacity 200ms ease-out;*/

        }
        /**
         * Menu: animations, ReactCSSTransitionGroup
         */
        .menus__droptarget-slidevertical-enter-active{
            transform: translateZ(0);
            /* Turns acceleration on if possible */;
        }

        .menus__droptarget-slidevertical-leave-active {
            /* Fix for Safari / Safari Mobile: the transition doesn't work unless it's on the *-active
                 * Reference:
                 *    https://github.com/facebook/react/issues/2227
                 *    https://github.com/facebook/react/issues/2104
                 */
            transition: margin 200ms ease-out, opacity 200ms ease-out;
        }

        .menus__droptarget-slidevertical-enter.is-lander span,
        .menus__droptarget-slidevertical-leave.is-lander span {
            opacity: 0.0;
        }

        .menus__droptarget-slidevertical-enter.is-lander:hover,
        .menus__droptarget-slidevertical-leave.is-lander:hover {
            background: inherit;
            color: inherit;
        }

        .menus__droptarget-slidevertical-enter {
            margin-top: -55px;
            opacity: 0.0;
        }

        .menus__droptarget-slidevertical-enter.is-position-before {
            margin-top: 0;
            margin-bottom: -55px;
        }

        .menus__droptarget-slidevertical-enter-active {
            margin-top: 0;
            opacity: 1.0;
        }

        .menus__droptarget-slidevertical-enter-active.is-position-before {
            margin-bottom: 0;
        }

        .menus__droptarget-slidevertical-leave {
            margin-top: 0;
            opacity: 1.0;
        }

        .menus__droptarget-slidevertical-leave.is-position-before {
            margin-bottom: 0;
        }

        .menus__droptarget-slidevertical-leave-active {
            margin-top: -55px;
            opacity: 0.0;
        }

        .menus__droptarget-slidevertical-leave-active.is-position-before {
            margin-top: 0;
            margin-bottom: -55px;
        }
    </style>
{% endblock %}

<!-- Main content -->

{% block navbar %}
    {#<li><a class="sidebar-control sidebar-main-toggle hidden-xs"><i class="icon-star-empty3"></i></a></li>#}
    {#<p class="navbar-text"><i class="icon-user-check position-left"></i> 菜单区域</p>#}
    <form class="navbar-form navbar-left">
        <div class="form-group">
            <div class="input-group">

                <div class="input-group-btn">
                    <button type="button" class="btn btn-default dropdown-toggle btn-icon btn-rounded" data-toggle="dropdown" aria-expanded="false">
                        <i class=" icon-align-left position-left"></i>
                        顶部菜单
                        <span class="caret"></span>
                    </button>

                    <ul class="dropdown-menu active">
                        <li v-for="key, val in menuLocations"><a href="#">{{ val | lang}}</a></li>
                        {#<li><a href="#">社交菜单</a></li>#}
                        {#<li><a href="#">底部菜单</a></li>#}
                        {#<li class="divider"></li>#}


                    </ul>
                </div>
                <div class="input-group-btn">
                    <button type="button" class="btn btn-default dropdown-toggle btn-icon btn-rounded" data-toggle="dropdown" aria-expanded="false">
                        <i class="icon-menu2 position-left"></i>
                        主菜单
                        <span class="caret"></span>
                    </button>

                    <ul class="dropdown-menu active">

                        <li v-for="menu in menus"><a href="#" @click="setMenu(menu.id)"><i class="icon-check position-left"></i> {{ menu.name }}</a></li>
                        {#<li class="divider"></li>#}
                        {#<li class="active"><a href="#"><i class="icon-files-empty position-left"></i> 全部</a></li>#}
                        <li class="divider"></li>
                        <li><a @click="addMenuModal"><i class="icon-plus22"></i>添加新菜单</a></li>
                    </ul>


                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="input-group">
                {#<div class="input-group-btn">#}
                    {#<button type="button" class="btn btn-default" data-toggle="dropdown" aria-expanded="false">3 可用菜单区域 <span class="caret"></span></button>#}
                    {#<ul class="dropdown-menu">#}
                        {#<li><a href="#">顶部菜单</a></li>#}
                        {#<li><a href="#">社交菜单</a></li>#}
                        {#<li><a href="#">底部菜单</a></li>#}
                        {#<li class="divider"></li>#}
                        {#<li><a href="#">One more separated line</a></li>#}
                    {#</ul>#}

                    {#<button type="button" class="btn btn-default" data-toggle="dropdown" aria-expanded="false">3 可用菜单区域 <span class="caret"></span></button>#}
                    {#<ul class="dropdown-menu">#}
                        {#<li><a href="#">顶部菜单</a></li>#}
                        {#<li><a href="#">社交菜单</a></li>#}
                        {#<li><a href="#">底部菜单</a></li>#}
                        {#<li class="divider"></li>#}
                        {#<li><a href="#">One more separated line</a></li>#}
                    {#</ul>#}
                {#</div>#}
                {#<select class="select">#}
                    {#<option value="AK">顶部菜单</option>#}
                    {#<option value="HI">底部菜单</option>#}
                    {#<option value="AZ">社交菜单</option>#}
                    {#<option value="CO">左侧菜单</option>#}
                    {#<option value="ID">右侧菜单</option>#}
                {#</select>#}

            </div>
        </div>

    </form>

{% endblock %}

{% block content %}

{#    <div class="row manage-menus main">
        <div class="panel">
        <div><div><div class="menus__pickers"><div class="menus__picker is-location"><label for="location-picker-select">此站点上的 2 个菜单区域</label><select id="location-picker-select"><option value="primary">主要菜单</option><option value="secondary">次要菜单</option></select></div><p class="menus__pickers-conjunction">可用</p><div class="menus__picker is-menu"><label for="menu-picker-select">4 个可用菜单</label><select id="menu-picker-select"><option value="">默认菜单</option><option value="1357">Primary</option><option value="1358">菜单 1</option><option value="1359">菜单 2</option><option value="disabled" disabled=""> </option><option value="add-menu">+ 添加新菜单</option></select></div></div><div><div class="menus__menu-header"><h2 class="menus__menu-name"><span class="is-editable"><span>Primary</span><a class="edit"></a></span></h2><div class="menus__menu-actions"><button class="button noticon noticon-trash"></button><button type="button" class="button">取消</button><button class="button is-primary">保存</button></div></div><ul class="menus__items"><div><span></span><div class="menus__menu-item depth-1  " draggable="true"><span class="menu-item-name noticon noticon-document">Contact</span><div class="action-tray"></div></div><span></span><span></span><!-- react-empty: 1565 --></div><div><span></span><div class="menus__menu-item depth-1  " draggable="true"><span class="menu-item-name noticon noticon-document">Blog</span><div class="action-tray"></div></div><span></span><span></span><!-- react-empty: 1596 --></div><div><span><a class="menus__menu-item is-lander depth-1 is-position-before"><span class="noticon noticon-plus">添加以上菜单项</span></a></span><div class="menus__menu-item depth-1  " draggable="true"><span class="menu-item-name noticon noticon-document">About</span><div class="action-tray"><button class="button">取消</button></div></div><span><a class="menus__menu-item is-lander depth-1 is-position-after"><span class="noticon noticon-plus">添加以下菜单项</span></a></span><span><a class="menus__menu-item is-lander depth-2 is-position-child"><span class="noticon noticon-plus">将菜单项添加至子网页</span></a></span><!-- react-empty: 1661 --></div><div><span></span><div class="menus__menu-item depth-1  " draggable="true"><span class="menu-item-name noticon noticon-document">Home</span><div class="action-tray"></div></div><span></span><span></span><!-- react-empty: 1671 --></div></ul><div class="menus__add-item-footer-label">添加新条目</div></div></div></div>

a

    </div>
    </div>#}
    <div class="row">
        {#<div class="col-md-4">#}
            {#<div class="panel panel-body border-top-info">#}
                {#<div class="text-center">#}
                    {#<h6 class="no-margin text-semibold">Menu with radios</h6>#}
                    {#<p class="content-group-sm text-muted">Left and right positioned <code>radios</code></p>#}
                {#</div>#}


            {#</div>#}
        {#</div>#}
        <div class="col-lg-3 col-md-4">
            <div class="panel panel-white">
                <div class="panel-heading">
                    <h6 class="panel-title">菜单项<a class="heading-elements-toggle"><i
                                    class="icon-more"></i></a></h6>

                    <div class="heading-elements">
                        {#<form class="heading-form" action="#">#}
                            {#<div class="form-group has-feedback"  style="width: 120px">#}
                                {#<select class="select">#}
                                        {#<option value="AK">顶部</option>#}
                                        {#<option value="HI">底部</option>#}
                                        {#<option value="AZ">社交菜单</option>#}
                                        {#<option value="CO">左侧</option>#}
                                        {#<option value="ID">右侧</option>#}
                                {#</select>#}
                            {#</div>#}
                        {#</form>#}

                    </div>


                </div>
                <div class="panel-body">

                    <div class="content-group tree-drag"></div>
                    {#<button class="btn btn-default " @click="addMenuModal = true">添加菜单</button>#}

                </div>
            </div>
        </div>
        <div class="col-lg-9 col-md-8">

            {#<div class="panel panel-body">#}

                <div v-for="menu in menus">
                    <div v-if="menuID == menu.id">
                        <div id="menuList">
                            <ul>
                                <items v-for="model in items" :model="model" :active="activeItem" v-on:add="doAddItem"></items>
                            </ul>
                        </div>
                    </div>
                </div>

            {#</div>#}

            <div class="panel panel-body border-top-primary" v-if="menuID == 0">
                <div class="text-center">
                    <h6 class="no-margin text-semibold">菜单项内容管理</h6>
                    <p class="content-group-sm text-muted">可以在此区域进行菜单项的功能管理</p>
                </div>

                <div class="well well-white">
                    <i class=" icon-notification2 text-teal position-left"></i> 好像没有要管理的内容!
                </div>
            </div>

            <div class="panel panel-default" v-if="menuID > 0">
                <div class="panel-heading">
                    {#<h6 class="panel-title">#}
                        <input type="text" class="form-control" style="width: 180px;" placeholder="菜单名称" :value="menuItemName">

                        {#Pills<a class="heading-elements-toggle"><i class="icon-more"></i></a>#}
                    {#</h6>#}
                    <div class="heading-elements panel-nav">
                        <ul class="nav nav-pills">
                            <li class=""><a href="#panel-pill1" data-toggle="tab" aria-expanded="false"><i class="icon-screen-full position-left"></i> Home</a></li>
                            <li class="active"><a href="#panel-pill2" data-toggle="tab" aria-expanded="true"><i class="icon-stats-bars position-left"></i> Stats</a></li>
                            <li>
                                <a>页面</a>
                            </li>
                            <li><a>链接</a></li>
                            <li><a>分类</a></li>
                            <li><a>标签</a></li>
                            <li><a>文章</a></li>
                            <li><a>作品</a></li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                    <i class="icon-cog5"></i>
                                    <span class="visible-xs-inline-block position-right">Dropdown</span>
                                    <span class="caret"></span>
                                </a>

                                <ul class="dropdown-menu dropdown-menu-right">
                                    <li><a href="#panel-pill3" tabindex="-1" data-toggle="tab"><i class="icon-people"></i> Profile settings</a></li>
                                    <li><a href="#panel-pill4" tabindex="-1" data-toggle="tab"><i class="icon-stack"></i> Layout settings</a></li>
                                </ul>
                            </li>

                        </ul>
                    </div>
                </div>

                <div class="panel-tab-content tab-content">
                    <div class="tab-pane has-padding" id="panel-pill1">
                        This is the first panel pill content
                    </div>

                    <div class="tab-pane has-padding active" id="panel-pill2">
                        This is the second panel pill content
                    </div>

                    <div class="tab-pane has-padding" id="panel-pill3">
                        This is the third panel pill content
                    </div>

                    <div class="tab-pane has-padding" id="panel-pill4">
                        This is the fourth panel pill content
                    </div>
                </div>
            </div>
            <div class="panel panel-white" v-if="menuID > 0">

                <div class="panel-heading">
                    <div class="heading-elements pull-left">
                    <form class="heading-form" action="#" _lpchecked="1">

                        <input type="text" class="form-control" placeholder="菜单名称" :value="menuItemName">

                    </form>
                    </div>
                    {#<h6 class="panel-title">{{ menuItemName }}<a class="heading-elements-toggle"><i#}
                                    {#class="icon-more"></i></a></h6>#}

                    {#<div class="heading-elements">#}
                        {#<form class="heading-form" action="#" _lpchecked="1">#}
                            {#<div class="form-group">#}
                                {#<input type="text" class="form-control" placeholder="Search..." :value="menuItemName">#}
                            {#</div>#}
                        {#</form>#}
                    {#</div>#}
                </div>

                {#        <div class="tabbable tab-content-bordered">
                          <ul class="nav nav-tabs nav-tabs-bottom">
                              {% for ingredient, amount in app_setup.CONFIG_GROUP_LIST %}
                                <li {% if id == ingredient %}class="active"{% endif %} ><a
                                          href="/application/<$ app.name $>/setup/?id=<$ ingredient $>"
                                          data-groupid="<$ ingredient $>" class="grouplist"> <$ amount $></a></li>
                              {% endfor %}

                          </ul>
                        </div>#}

                <div class="table-responsive">
                    <table class="table table-lg">
                        <tbody>
                        <tr>
                            <td style="width: 120px">菜单名称</td>

                            <td><a href="#" id="text-field" data-type="text" data-inputclass="form-control" data-pk="1"
                                   data-title="<$ options.title $>"
                                   class="editable editable-click"> {{ menuItemName }}</a></td>
                        </tr>
                        {#<tr>#}
                            {#<th colspan="3" class="active">Basic modals</th>#}
                        {#</tr>#}

                        </tbody>
                    </table>

                </div>
                <div class="tabbable tab-content-bordered">
                    <ul class="nav nav-tabs nav-tabs-bottom">
                        <li>
                            <a>页面</a>
                        </li>
                        <li><a>链接</a></li>
                        <li><a>分类</a></li>
                        <li><a>标签</a></li>
                        <li><a>文章</a></li>
                        <li><a>作品</a></li>
                    </ul>
                </div>

            </div>


        </div>

    </div>

    {#{% include "./components/item-template.html" %}#}

{#    <modal v-if="addMenuModal" @close="addMenuModal = false">
        <h3 slot="header">{{ 'add' | lang }}</h3>
        <div slot="content">
            添加内容
        </div>
    </modal>#}
{% endblock %}

{% block components %}
    {#{% super() %}#}
    <template id="item-template">
        <li :id="'item_' + model.id" >
            <a class="menus__menu-item is-lander depth-1 is-position-before">
                <span class="icon-plus22 position-left"> 添加以上菜单项 </span>
            </a>
            <div class="entry clear" :draggable="true" v-on:dragstart="onDragStart" v-on:dragover="onDragOver" v-on:dragend="onDragEnd" v-on:drop="onDragEnd">
                <div class="info">
                    <span>{{ model.title }}</span>
                    {#<small>{{ model.pageName }} {{ model.pageURL }}</small>#}
                </div>
                <a class="icon delete ajax icon-ios-trash-outline"></a>
            </div>
            <a class="'menus__menu-item is-lander depth-1 is-position-after">
                <span class="icon-plus22"> 添加以下菜单项 </span>
            </a>
            <a class="menus__menu-item is-lander depth-2 is-position-child">
                <span class="icon-plus22"> 添加子菜单项 </span>
            </a>
            <ul v-if="model.children">
                <item v-for="model in model.children" :model="model"></item>
            </ul>
        </li>
    </template>

    <template id="menu-item-template">



        <ul class="menus__items">

{#            <div class="menus__menu-item-open-container is-panel-right">

                <a class="menus__menu-item is-selected depth-1"><span class="noticon noticon-standard"></span>

                    <input id="menu-item-name-value" placeholder="输入菜单标签" value="新建项目"></a>
                <div class="menus__menu-item-open depth-1">
                    <div class="editable-item-content">
                        <div class="menus__types-and-options-container"><ul class="menus__menu-item-form-types"><li class=""><label class="noticon noticon-document"><span>个页面</span></label></li><li class=""><label class="noticon noticon-link"><span>链接</span></label></li><li class=""><label class="noticon noticon-category"><span>个分类</span></label></li><li class=""><label class="noticon noticon-tag"><span>个标签</span></label></li><li class=""><label class="noticon noticon-standard"><span>篇日志</span></label></li><li class="is-selected"><label class="noticon noticon-standard"><span>褒奖</span></label></li></ul><div class="menu-item-options"><div class="menu-item-back-button"><a class="noticon noticon-previous"><span>褒奖</span></a></div><form lpformnum="2"><ul class="depth-0"></ul><span class="is-empty-content"><!-- react-text: 261 -->未找到褒奖.<!-- /react-text --><!-- react-text: 262 -->&nbsp;<!-- /react-text --><!-- react-text: 263 -->您可能想要<!-- /react-text --><a class="create-link" href="/edit/jetpack-testimonial/undefined">新建一个</a><!-- react-text: 265 -->。<!-- /react-text --></span></form></div></div><div class="menus__menu-item-actions"><button class=" button"><!-- react-text: 174 --><!-- /react-text --><!-- react-text: 175 -->取消<!-- /react-text --></button><button class="is-primary button"><!-- react-text: 177 --><!-- /react-text --><!-- react-text: 178 -->添加条目<!-- /react-text --></button></div></div></div></div>#}

            <div class="menus__menu-item-open-container is-panel-right" v-if="active == model.id">>
            {#{ this.renderItem() }#}
                <a class="menus__menu-item is-selected depth-1"><span class="noticon noticon-standard"></span>
                    <input id="menu-item-name-value" placeholder="输入菜单标签" value="新建项目"></a>

                    <div class="menus__menu-item-open depth-1">
            <div class="editable-item-content">

                <div class="menus__types-and-options-container">
                    {#{ this.renderSupportedTypes() }#}
                    {#{ this.isSupportedItemType() && this.renderItemOptions() }#}
                </div>

                <div class="menus__menu-item-actions">
                    {#{ this.renderButtons() }#}
                </div>

            </div>
            </div>
            </div>


            <transition name="menus__droptarget-slidevertical">

            <a class="menus__menu-item is-lander depth-1 is-position-before" v-if="active == model.id">
                <span class="icon-plus22 position-left"> 添加以上菜单项 </span>
            </a>
            </transition>

            <div class="menus__menu-item depth-1" draggable="true">
                <span class="menu-item-name noticon noticon-document">{{ model.title }}</span>

                <div class="action-tray"><span class="menu-item-action icon-pencil2 edit">编辑</span><span class="menu-item-action add" @click="add(model.id)">添加</span></div>
            </div>

            <transition name="menus__droptarget-slidevertical">
            <a class="menus__menu-item is-lander depth-1 is-position-after " v-if="active == model.id">
                <span class="icon-plus22 position-left"> 添加以下菜单项 </span>
            </a>
            </transition>
            <transition name="menus__droptarget-slidevertical">

            <a class="menus__menu-item is-lander depth-2 is-position-child" v-if="active == model.id">
                <span class="icon-plus22 position-left"> 添加子菜单项 </span>
            </a>
            </transition>
        </ul>
    </template>

{% endblock %}
<!-- /main content -->

{% block script %}

    <script type="text/javascript" src="/static/assets/js/plugins/forms/editable/editable.min.js"></script>
    {#<script type="text/javascript" src="/static/assets/js/plugins/forms/styling/uniform.min.js"></script>#}

{#    <script type="text/javascript">

        var toggleState = document.querySelector('.switchery');
        var toggleStateInit = new Switchery(toggleState);
        toggleState.onchange = function() {
            if(toggleState.checked) {
                $('.editable').editable('enable');
            }
            else {
                $('.editable').editable('disable');
            }
        };
        $(function() {



        });
    </script>#}


    <script>
        window.addEventListener("touchmove", function() {});

        Vue.component("items", {
            template: "#menu-item-template",
//            data: {
//                itemID: 0
//            },
            props: {
                itemID: 0,
                model: Object,
                label: "",
                active: 0
            },
            methods:{
                add: function(item){
                   console.log(item + "=====")
                    this.$emit('add', item)
                }
            }
        });

        Vue.component("item", {
            template: "#item-template",
            props: {
                model: Object
            },
            methods:{
                onDragStart: function( e ) {
                    console.log("lala0")

                    e.dataTransfer.effectAllowed = 'move';
                    // setData() is necessary for starting the drag in firefox
                    e.dataTransfer.setData( 'text', 'dummy' );

//                    this.props.dragDrop( 'start', e.clientX, e.clientY, this.props.item );

                    // dragend events will not fire if dragged element has
                    // been removed from DOM, so end drag on mousemove
                    window.addEventListener( 'mousemove', this.onDragEnd );
                },

                onDragOver: function( e ) {
                    console.log("lala1")

                    // onDragOver default is to reset drag op
                    e.preventDefault();

//                    this.props.dragDrop( 'over', e.clientX, e.clientY, this.props.item );
                },

                onDragEnd: function( e ){
                    console.log("lala2")

                    // stop Firefox dropping text into address bar
                    e.preventDefault();

                    window.removeEventListener( 'mousemove', this.onDragEnd );
//                    this.props.dragDrop( 'end' );
                },
            }
        });

        new Vue({
            el: "#app",
            data: {
                headline: '菜单管理',
//                headline: lang["menus"],
                menus: <$ nav_menus | dump | safe $>,
                items: [],
                pageAll: <$ nav_menus | dump | safe $>,
//                addMenuModal: false,
                menuName: "",
                menuLocations: <$ menu_locations | dump | safe $>,
                menuID: 0,
                menuItem: "",
                menuItemName: "",
                menuItemPage: "",
                menuItemPageID: 0,
                menuItemLink: "",
                activeItem:0

            },
            mounted: function() {
                var vue = this;
//                vue.fetchMenus();
                $(document).on("fetch", function() {
                    vue.fetchItems();
                });
                eventHub.$on("setSearchbox", this.setMenuItemPage);

                // Drag and drop support
                $(".tree-drag").fancytree({
                    extensions: ["dnd"],
                    source: {
//                url: "/static/assets/demo_data/fancytree/fancytree.json"
                        url: "/admin/menus/list"
                    },
                    dnd: {
                        autoExpandMS: 400,
                        focusOnClick: true,
                        preventVoidMoves: true, // Prevent dropping nodes 'before self', etc.
                        preventRecursiveMoves: true, // Prevent dropping nodes on own descendants
                        dragStart: function(node, data) {
                            return true;
                        },
                        dragEnter: function(node, data) {
                            return true;
                        },
                        dragDrop: function(node, data) {

                            // This function MUST be defined to enable dropping of items on the tree.
                            data.otherNode.moveTo(node, data.hitMode);
                        }
                    },
                    init: function(event, data) {
                        $('.has-tooltip .fancytree-title').tooltip();
                    },
                    click: function(event, data){
//                        console.log(data.node)
//                console.log(data.node.data.parent)
                        vue.menuID = data.node.key;
                        vue.menuItemName = data.node.title;
                        vue.menuItem = data.node.data;
                    }
                });

            },
            methods: {


                /**
                 * @param {string} action: 'add' | 'position' | 'cancel' | 'first'
                 * @param {int} id: depending on action, either of:
                 *                     - ID of item around which to create a new item
                 *                     - position index ('before', 'after', or 'child')
                 */
                doAddItem: function( id ) {
                    console.log(id + "------")

                   this.activeItem = id;
                    //                    var oldState = this.state.addState,
//                        newState = {};
//
//                    if ( 'add' === action ) {
//                        newState.targetId = id;
//                    } else if ( 'position' === action ) {
//                        assign( newState, oldState );
//                        newState.position = id;
//                        newState.menu = this.props.selectedMenu.id;
//                    }
//
//                    this.setState( { addState: newState } );
                },
                fetchMenus: function(id) {
                    var vue = this;
                    $.ajax({
                        method: "POST",
//                        url: "'.url::admin('content', ['menus']).'",
                        url: "/admin/menus/list",
                        dataType: "json",
                        success: function(data) {
                            vue.menus = data;
                            if(data.length) {
                                vue.setMenu(data[0].id);
                            }
                        }
                    });
                },
                fetchItems: function() {
                    var vue = this;
//                    console.log(vue.menuID  + "---------")
                    $.ajax({
                        method: "POST",
                        url: "/admin/menus/items",
                        dataType: "json",
                        data: {
                            id: vue.menuID
                        },
                        success: function(data) {
                            vue.items = data;
//                            console.log(JSON.stringify(data))
                            vue.$nextTick(function() {
                                vue.setDrag();
                            });
//                            setTabs();
                        }
                    });
                },

                setDrag: function() {
//                    var drake = dragula($("#menuList ul").toArray(), {
//                        mirrorContainer: $("#menuList")[0]
//                    });
//                    drake.on("drop", function(el, target, source, sibling) {
//                        $.ajax({
//                            method: "POST",
//                            url: "'.url::admin('content', ['menus', 'move']).'",
//                            data: {
//                                array: getChildren("#menuList")
//                            }
//                        });
//                    });
                },
                addMenu: function() {
                    var vue = this;
                    $.ajax({
                        method: "POST",
                        url: "'.url::admin('content', ['menus', 'add']).'",
                        data: {
                            name: vue.menuName
                        },
                        success: function(data) {
                            vue.addMenuModal = false;
                            vue.fetchMenus();
                            vue.menuName = "";
                        }
                    });
                },
                setMenuItemPage: function(data) {
                    this.menuItemPageID = data.id;
                    this.menuItemPage = data.name;
                },
                addMenuItem: function() {
                    var vue = this;
                    $.ajax({
                        method: "POST",
                        url: "'.url::admin('content', ['menus', 'addItem']).'",
                        data: {
                            id: vue.menuID,
                            name: vue.menuItemName,
                            pageID: vue.menuItemPageID,
                            link: vue.menuItemLink
                        },
                        success: function(data) {
                            vue.fetchItems();
                            vue.menuItemName = "";
                            vue.menuItemLink = "";
                            eventHub.$emit("setSearchboxEmpty");
                        }
                    });
                },
                setMenu: function(id) {
                    this.menuID = id;
                    this.fetchItems();
                },
                addMenuModal: function(){
                    var vue = this;

                    //Demo
                    layui.use('form', function(){
                        var form = layui.form();

                        //监听提交
                        form.on('submit(formDemo)', function(data){
                            layer.msg(JSON.stringify(data.field));
                            return false;
                        });
                    });

                    layui.use('layer', function(){
                        var layer = layui.layer;
                        layer.open({
                            type: 1
                            ,title: vue.headline
                            ,closeBtn: false
                            ,area: '500px;'
                            ,shade: 0.6
                            ,id: 'LAY_layuipro' //设定一个id，防止重复弹出
                            ,resize: false
                            ,btn: ['确定', '取消']
                            ,btnAlign: 'c'
                            ,moveType: 1 //拖拽模式，0或者1
                            ,content: '<form class="layui-form layui-form-pane" action="">内部结构都一样，值得注意的是 复选框/开关/单选框 这些组合在该风格下需要额外添加 pane属性（否则会看起来比较别扭），如<div class="layui-form-item" pane> <label class="layui-form-label">单选框</label> <div class="layui-input-block"> <input type="radio" name="sex" value="男" title="男"> <input type="radio" name="sex" value="女" title="女" checked> </div> </div> </form>'
                            ,success: function(layero){
                                var btn = layero.find('.layui-layer-btn');
                                btn.find('.layui-layer-btn0').attr({
                                    href: 'http://www.layui.com/'
                                    ,target: '_blank'
                                });
                            }
                        });
                    });

                }
            }
        });
    </script>

{% endblock %}